<template name="addTimesheet">
	<div class="container">

		{{ # autoForm id="insertTimesheetForm" class="col s12" doc=this type="method" meteormethod="saveTimesheetData" schema="timesheetSchema" }}
		
		
		<div class="row">
	      <div class="input-field col s12">
	        <p>
			{{> timetracker}}
			</p>
	      </div>
	    </div>

	    <div class="row">
	      <div class="input-field col s12">
	        <input type='text' name="duration" class="form-control" value="{{session_time}}"  id="duration" data-schema-key="duration" >
<!-- 	        <label for="duration">Duration</label>
 -->	      </div>
	    </div>
		
		<div class="row">
	      <div class="input-field col s12">
	        {{> afFieldInput  type='xautocomplete' formid="insertTimesheetForm" name='caseId' call='cases' fieldref='name' reference='Projects' renderfunction='renderDefaultAutocomplete' id="meeting_case"}}
			<label for="meeting_case">Matter</label>
	      </div>
	    </div>		
		
		<div class="row">
	      <div class="input-field col s12">
	       	{{> afQuickField name='type' options='allowed'}}
	      </div>
	    </div>
	<button class="waves-effect waves-light btn" type="submit">Insert</button>
	<a class="waves-effect waves-teal btn-flat" href="/projects" style="position: absolute;">Cancel</a>
	{{/autoForm}}
    </div>
	
	
</template>

<template name="timesheetDetail">
	{{duration}}
</template>

<template name="timesheets">
	<div class="row">
		{{ > navigation}}
	</div>
	<div class="container ">
        <a class="waves-effect waves-light btn" href = "/timesheets/add">Add Timesheet </a>
		<table class="striped centered bordered">
		<thead>
			<tr>
				<th data-field="duration">duration</th>
				<th data-field="case_title">case title</th>
				<th data-field="desc">description</th>
			</tr>
		</thead>
		<tbody>
			{{ #each timesheets }}
			{{ > timesheetRow }}
			{{/each}}
		</tbody>
	</table>	

    </div>
	
</template>

<template name="timesheetRow">
	<tr>
		<td>{{duration}}</td>
		<td>{{case}}</td>
		<td>{{type}}</td>
		<td><a href="/timesheets/{{_id}}/edit">edit</a></td>
		<td> <button id='delete'>Delete</button></td>
	</tr>
</template>

<template name="editTimesheet">
	<!-- <h1>
		time from session : {{session_time}}
	</h1> -->
	<div class="container">
		{{ # autoForm id="insertTimesheetForm" class="col s12" doc=this type="method" meteormethod="saveTimesheetData" schema="timesheetSchema" }}
			
			<p>
				{{> timetracker}}
			</p>
			
			<input type='text' name="duration" class="form-control" value="{{fetch_duration}}"  id="duration" data-schema-key="duration" >
			
			
			<div class="input-field col l4 m6 s12">
				{{> afFieldInput  type='xautocomplete' formid="insertTimesheetForm" name='caseId' call='cases' fieldref='name' reference='Projects' renderfunction='renderDefaultAutocomplete' id="meeting_case"}}
				<label for="meeting_case">Matter</label>
				
			</div>
			<div class="col l4 m6 s12">
		        {{> afQuickField name='type' options='allowed'}}
			</div>
			
			
			
		<button class="waves-effect waves-light btn" type="submit">Insert</button>
		<a class="waves-effect waves-teal btn-flat" href="/timesheets" style="position: absolute;">Cancel</a>
		{{/autoForm}}
	</div>
</template>
