<template name="projects">
    <style type="text/css">
        .reset-button{
            margin-top: 0.5em;
            float: right;
        }
        button:focus{
            background-color: #DDDDDD;
        }
        .ms-choice:focus{
            background-color: #FFFFFF;
        }
    </style>
    {{#if isInRole 'view-projects'}}
    	{{> navigation}}
        <div class="container project-list-container">
        	{{> esInput index="projects" placeholder="Search projects" allDocsOnEmpty="true"}}
        	<div class="row">
                <div class="col s3 filter-field">
                    <label>Lawyer Names:</label>
                    <select multiple="multiple" id="lawyer-select">
                        {{#each lawyers}}
                            <option value="{{_id}}">{{name}}</option>
                        {{/each}}
                    </select>
                </div>
                <div class="col s3 filter-field">
                    <label>Client Names:</label>
                    <select multiple="multiple" id="client-select">
                        {{#each clients}}
                            <option value="{{_id}}">{{name}}</option>
                        {{/each}}
                    </select>
                </div>
        		<div class="col s3 filter-field">
        			<label>Court Name:</label>
        			<select multiple="multiple" id="court-select">
        				{{#each courts}}
        					<option value="{{_id}}">{{name}}</option>
        				{{/each}}
        			</select>
                    <button class="reset-button" onclick="$('#court-select').multipleSelect('uncheckAll')">Reset</button>
        		</div>
        		<div class="col s3 filter-field">
        			<label>Type:</label>
        			<select multiple="multiple" id="type-select">
        				{{#each types}}
        					<option>{{this}}</option>
        				{{/each}}
        			</select>
                    <button class="reset-button" onclick="$('#type-select').multipleSelect('uncheckAll')">Reset</button>
        		</div>
                <div class="col s3 filter-field">
                    <label>Label:</label>
                    <select multiple="multiple" id="label-select">
                        {{#each labels}}
                            <option value="{{_id}}">{{> colorElement}}</option>
                        {{/each}}
                    </select>
                </div>
        	</div>
    		{{#ifEsIsSearching index="projects"}}
    			{{> spinner}}
    		{{else}}
    			<table class="responsive-table projects-table">
    				<thead>
    					<tr>
    						<th>Unique Id</th>
    						<th>Title</th>
    						<th>Client</th>
    						<th>Lawyer</th>
    						<!-- <th>Court</th> -->
    						<!-- <th>Last Hearing</th> -->
    						<!-- <th>Next Hearing</th> -->
    					</tr>
    				</thead>
    				<tbody>
    					{{#esEach index="projects"}}
    						{{> projectRow}}
    					{{/esEach}}
    				</tbody>
    			</table>
    		{{/ifEsIsSearching}}
    		
    	<a href="/projects/add" class="add-project-icon btn-floating btn-large waves-effect waves-light teal"><i class="mdi-content-add"></i></a>
    	</div>
    {{/if}}
    <script type="text/javascript">
        $('#lawyer-select').multipleSelect({
            filter: true,
            placeholder: 'Select Lawyers'
        })
        $('#client-select').multipleSelect({
            filter: true,
            placeholder: 'Select Clients'
        })
        $('#type-select').multipleSelect({
            filter: true,
            single: true,
            placeholder: 'Select Type'
        })
        $('#court-select').multipleSelect({
            filter: true,
            single: true,
            placeholder: 'Select Court'
        })
        $('#label-select').multipleSelect({
            filter: true,
            placeholder: 'Select Labels'
        })
    </script>
</template>